{% extends "dox/bulldog_story.html" %}
{% load cache %}
{% load humanize %}

{% block head_title %}Unofficial Lane County results for the Nov. 4, 2014, midterm election {% endblock %}

{% block css %}
<style type="text/css">
<!--
.table1 tbody tr.race_wrapper td {
	color: #ffffff;
	background-color: #2D3138;
}
-->
</style>

{% endblock %}

{% block pub_date %}
<div class="c49p fr">
	<div class="published"><p>Published: {% now "l, N j, Y @ g:i a T" %}
	</p></div>
</div> <!-- /.c49p -->
{% endblock %}

{% block home %}: Election 2012{% endblock %}

{% block headline %}Unofficial Lane County results for the Nov. 4, 2014, midterm election{% endblock %}

{% block secondary_column %}{% endblock secondary_column %}

{% block content %}
{% cache 3600 main_results_table %}
	<div id="primary">
	<!-- ##### BEGIN PRIMARY COLUMN ##### -->
		
		{% comment %}
		<div class="tabs">
			
			<ul class="clear">
				<li class="navFirst"><a href="#election-table">Full Lane County Election Results Table</a></li>
				<li><a href="#ap-interactives">AP Election 2010 Interactives</a></li>
			</ul> <!-- /.clear -->
			
			<hr>
		{% endcomment %}
			
			<h3 class="label">Elections</h3>
<h1 class="h3">Unofficial final results for the Lane County Nov. 4, 2014, midterm election</h1>
			<div class="rack">
				
				<div id="election-table">
					
					{% if object_list %}
						
						<table class="tabular v1">
							
							<tbody>
								
								{% regroup object_list by region.name as region_races %}
								
								{% for region_race in region_races %}
									
									<tr>
										<th colspan="5" scope="col">{{ region_race.grouper }}</th>
									</tr>
									
									{% regroup region_race.list by contest_wrapper as partisan_race %}
									
									{% for race in partisan_race %}
										
										{% if race.grouper %}
											
											<tr class="race_wrapper">
												<td colspan="5" style="text-align: center;"><strong>{{ race.grouper }}</strong></td>
											</tr>
											
										{% endif %}
									
										{% for contest in race.list %}
											
											{# {% if contest.print_only %} #}
											
											<tr>
												<td colspan="5" class="contest_name" style="text-align: center;" id="{{ contest.name|slugify }}"><strong>{{ contest.name }}</strong>{% if contest.explainer_text %} &mdash; {{ contest.explainer_text }}{% endif %}{% if contest.precincts_counted %}<br>
												({{ contest.precincts_counted }} of {{ contest.precincts }} Lane County precincts counted){% endif %}</td>
											</tr>
											
											<tr>
												{% if contest.statewide %}
													<td>&nbsp;</td>
													<td>Local votes</td>
													<td>Local percentage</td>
													
													<td>State count</td>
													<td>State percentage</td>
													
												{% else %}
													<td colspan="3">&nbsp;</td>
													<td>Local votes</td>
													<td>Local percentage</td>
												{% endif %}
											</tr>
											
											{% for candidate in contest.cand_yes_no_set.all %}
												{# Next two nested 'ifs' filter out 'Under vote' and 'Over vote'    #}
												{# In May 2012 primary, Lane County did not report Under/Over votes #}
												{# until the Official Final vote result.                            #}
												{% if not 'ver vot' in candidate.name %}
													{% if not 'nder vot' in candidate.name %}
												
													<tr class="{% cycle 'odd' 'even' %}">
														{% if contest.statewide %}
															<td>{{ candidate.name|capfirst }}{% if candidate.incumbent %}*{% endif %}</td>
															<td>{{ candidate.votes_local|intcomma }}</td>
															<td>{{ candidate.local_percent }}%</td>
															<td>{{ candidate.votes_other|intcomma }}</td>
															<td>{{ candidate.other_percent }}%</td>
														{% else %}
															<td colspan="3">{{ candidate.name|capfirst }}{% if candidate.incumbent %}*{% endif %}</td>
															<td>{{ candidate.votes_local|intcomma }}</td>
															<td>{{ candidate.local_percent }}%</td>
														{% endif %}
													</tr>
												
													{% endif %}
												{% endif %}
											{% endfor %}
											
											<tr>
												{% if contest.statewide %}
												<td><b>Vote totals</b></td>
												<td>{{ contest.local_vote_total|intcomma }}</td>
												<td>&nbsp;</td>
												<td>{{ contest.other_vote_total|intcomma }}</td>
												<td>&nbsp;</td>
												{% else %}
												<td colspan="3"><b>Vote totals</b></td>
												<td>{{ contest.local_vote_total|intcomma }}</td>
												<td>&nbsp;</td>
												{% endif %}
											</tr>
											
											{# {% endif %} #}
											
										{% endfor %}
										
									{% endfor %}
									
								{% endfor %}
								
							</tbody>
							
						</table>
						
					{% endif %}
					
				</div> <!-- /#election-table -->
				
			{% comment %}
				<hr>
				
				<div id="ap-interactives">
					<iframe src="http://hosted.ap.org/specials/election_night_2010/basic/index.html" id="ap05" name="ap05" width="100%" height="640" align="top" scrolling="no" marginwidth="0" marginheight="2" frameborder="0"></iframe>
					
					<div class="horizRule"></div>
					<hr>
					
					<iframe src="http://hosted.ap.org/specials/interactives/wdc/races2010/index.html" id="ap02" name="ap02" width="100%" height="620" align="top" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
					
					<div class="horizRule"></div>
					<hr>
					
					<iframe src="http://hosted.ap.org/specials/interactives/wdc/teaparty/index.html" id="ap01" name="ap01" width="100%" height="560" align="top" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
					
					<div class="horizRule"></div>
					<hr>
					
					<iframe src="http://hosted.ap.org/specials/interactives/wdc/campaign_spending_2010/index.html" id="ap03" name="ap03" width="100%" height="620" align="top" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
					
					<div class="horizRule"></div>
					<hr>
					
					<iframe src="http://hosted.ap.org/specials/interactives/wdc/politics_timeline/index.html" id="ap04" name="ap04" width="100%" height="620" align="top" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
					
				</div> <!-- /#ap-interactives -->
				{% endcomment %}
				
			</div> <!-- /.rack -->
			
		{% comment %}
		</div> <!-- /.tabs -->
		{% endcomment %}
		
	<!-- ##### END PRIMARY COLUMN ##### -->
	</div> <!-- /#primary -->
{% endcache %}
{% endblock %}